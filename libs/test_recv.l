;; (enter (load "./os.so")
;;        (system "rm -f /tmp/test-recv")
;;        )

;; (enter (load "./socket.so")
;;        (setq s (socket AF_UNIX SOCK_DGRAM))
;;        (bind s "/tmp/test-recv")
;;        (print s)
;;        (setq mesg (recvfrom s 1024))
;;        (print mesg)
;;        (print (str (cdr mesg)))
;;        (sendto s "Pong" (car mesg))
;;        )

(enter (load "./socket.so")
       (setq s (socket AF_INET SOCK_DGRAM))
       (bind s '("0.0.0.0" . 8123))
       (print s)
       (setq mesg (recvfrom s 1024))
       (print mesg)
       (print (str (cdr mesg)))
       (sendto s "Pong" (car mesg))
       )
